{% extends 'base/base.html' %}

{% block title %}Add Student - NGO Education System{% endblock %}

{% block content %}
<div class="page-header">
    <div class="header-content">
        <div class="header-text">
            <h1>‚ûï Add New Student</h1>
            <p>Register a new student in the literacy program</p>
        </div>
        <div class="header-actions">
            <a href="{% url 'student_list' %}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Back to Students
            </a>
        </div>
    </div>
</div>

<div class="form-section">
    <div class="form-container">
        <form method="POST" class="student-form" id="studentForm">
            {% csrf_token %}
            
            <div class="form-header">
                <h3>üìù Student Information</h3>
                <p>Please fill in all required fields marked with *</p>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label required">Student ID *</label>
                    {{ form.student_id }}
                    {% if form.student_id.errors %}
                        <div class="form-error">{{ form.student_id.errors.0 }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    <label class="form-label required">First Name *</label>
                    {{ form.first_name }}
                    {% if form.first_name.errors %}
                        <div class="form-error">{{ form.first_name.errors.0 }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    <label class="form-label required">Last Name *</label>
                    {{ form.last_name }}
                    {% if form.last_name.errors %}
                        <div class="form-error">{{ form.last_name.errors.0 }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    <label class="form-label required">Date of Birth *</label>
                    {{ form.date_of_birth }}
                    {% if form.date_of_birth.errors %}
                        <div class="form-error">{{ form.date_of_birth.errors.0 }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    <label class="form-label required">Gender *</label>
                    {{ form.gender }}
                    {% if form.gender.errors %}
                        <div class="form-error">{{ form.gender.errors.0 }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    <label class="form-label required">Learning Center *</label>
                    {{ form.center }}
                    {% if form.center.errors %}
                        <div class="form-error">{{ form.center.errors.0 }}</div>
                    {% endif %}
                </div>
            </div>
            
            <div class="form-section-divider">
                <h4>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Guardian Information</h4>
            </div>
            
            <div class="form-grid">
                <div class="form-group form-group-full">
                    <label class="form-label required">Guardian Name *</label>
                    {{ form.guardian_name }}
                    {% if form.guardian_name.errors %}
                        <div class="form-error">{{ form.guardian_name.errors.0 }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group form-group-full">
                    <label class="form-label required">Guardian Phone *</label>
                    {{ form.guardian_phone }}
                    {% if form.guardian_phone.errors %}
                        <div class="form-error">{{ form.guardian_phone.errors.0 }}</div>
                    {% endif %}
                </div>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-success btn-lg">
                    <i class="fas fa-save"></i> Register Student
                </button>
                <a href="{% url 'student_list' %}" class="btn btn-secondary btn-lg">
                    <i class="fas fa-times"></i> Cancel
                </a>
            </div>
        </form>
    </div>
</div>

<script>
document.getElementById('studentForm').addEventListener('submit', function(e) {
    // Add form validation feedback
    const submitBtn = this.querySelector('button[type="submit"]');
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Registering...';
    submitBtn.disabled = true;
});
</script>
{% endblock %}
